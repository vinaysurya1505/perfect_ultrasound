rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow authenticated users to read/write all collections
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
    
    // Specific rules for better security (optional - you can use the above simple rule)
    
    // Patients collection
    match /patients/{patientId} {
      allow read, write: if request.auth != null;
    }
    
    // Bills collection
    match /bills/{billId} {
      allow read, write: if request.auth != null;
    }
    
    // Tests collection
    match /tests/{testId} {
      allow read, write: if request.auth != null;
    }
    
    // Doctors collection
    match /doctors/{doctorId} {
      allow read, write: if request.auth != null;
    }
    
    // Expenditures collection
    match /expenditures/{expenditureId} {
      allow read, write: if request.auth != null;
    }
    
    // Transactions collection
    match /transactions/{transactionId} {
      allow read, write: if request.auth != null;
    }
    
    // Tasks collection
    match /tasks/{taskId} {
      allow read, write: if request.auth != null;
    }
    
    // Commission paid monthly collection
    match /commission_paid_monthly/{docId} {
      allow read, write: if request.auth != null;
    }
    
    // Meta collection (for billing counter)
    match /meta/{docId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
  }
}

